# Cultiv8 Production Environment Variables
# Copy this file to .env.production and fill in actual values
# DO NOT commit .env.production to git (it's in .gitignore)

# ============================================================================
# DATABASE (Vercel Postgres or Neon)
# ============================================================================
# Primary connection (with pooling)
DATABASE_URL="postgresql://username:password@hostname:5432/database?sslmode=require"

# Non-pooling connection (for migrations)
POSTGRES_URL_NON_POOLING="postgresql://username:password@hostname:5432/database?sslmode=require"

# Connection pool settings
DB_POOL_SIZE=10
DB_POOL_TIMEOUT=5000
DB_IDLE_TIMEOUT=30000

# ============================================================================
# REDIS (Upstash)
# ============================================================================
UPSTASH_REDIS_REST_URL="https://your-redis.upstash.io"
UPSTASH_REDIS_REST_TOKEN="your-rest-token"

# ============================================================================
# BLOCKCHAIN RPC ENDPOINTS
# ============================================================================
# Ethereum Mainnet (use Alchemy, Infura, or Ankr)
ETHEREUM_RPC_URL="https://eth-mainnet.g.alchemy.com/v2/your-api-key"
ETHEREUM_RPC_URL_BACKUP="https://mainnet.infura.io/v3/your-api-key"

# Base Mainnet
BASE_RPC_URL="https://base-mainnet.g.alchemy.com/v2/your-api-key"
BASE_RPC_URL_BACKUP="https://mainnet.base.org"

# Flashbots Protect RPC (MEV protection)
FLASHBOTS_RPC_URL="https://rpc.flashbots.net"
ENABLE_MEV_PROTECTION=true

# Sepolia Testnet (for testing)
SEPOLIA_RPC_URL="https://eth-sepolia.g.alchemy.com/v2/your-api-key"

# ============================================================================
# SMART CONTRACTS
# ============================================================================
# Mainnet addresses (deploy these first!)
CULTIV8_AGENT_ADDRESS="0x..."
AGENT_VAULT_ADDRESS="0x..."

# Sepolia testnet addresses (existing)
CULTIV8_AGENT_ADDRESS_SEPOLIA="0x0d0a0cC1367f5086859C20b3C83295d28FC8E835"
AGENT_VAULT_ADDRESS_SEPOLIA="0x..."

# Chain IDs
ETHEREUM_CHAIN_ID=1
BASE_CHAIN_ID=8453
SEPOLIA_CHAIN_ID=11155111

# ============================================================================
# AI API KEYS
# ============================================================================
# Anthropic Claude (for LangGraph agent)
ANTHROPIC_API_KEY="sk-ant-..."

# OpenAI (for fallback and embeddings)
OPENAI_API_KEY="sk-..."

# Model configurations
DEFAULT_LLM_MODEL="claude-3-5-sonnet-20241022"
FALLBACK_LLM_MODEL="gpt-4-turbo"

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
# JWT secret for API authentication
JWT_SECRET="your-secure-random-string-min-32-chars"

# Encryption key for sensitive data
ENCRYPTION_KEY="your-encryption-key-min-32-chars"

# API key for admin endpoints
ADMIN_API_KEY="your-admin-api-key"

# CORS allowed origins (comma-separated)
ALLOWED_ORIGINS="https://0xcultiv8.vercel.app,https://app.cultiv8.finance"

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
# Environment
NODE_ENV=production

# Application URL
NEXT_PUBLIC_APP_URL="https://0xcultiv8.vercel.app"

# API base URL (if different from app URL)
API_BASE_URL="https://0xcultiv8.vercel.app/api"

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Enable/disable features in production
ENABLE_AUTO_INVEST=true
ENABLE_MEV_PROTECTION=true
ENABLE_AUDIT_LOGGING=true
ENABLE_PERFORMANCE_TRACKING=true

# Agent settings
DEFAULT_SCAN_INTERVAL_MINUTES=1440
MAX_CONCURRENT_SCANS=5

# ============================================================================
# RATE LIMITING
# ============================================================================
# Requests per window
RATE_LIMIT_GENERAL=100
RATE_LIMIT_GENERAL_WINDOW=60

RATE_LIMIT_CONFIG=20
RATE_LIMIT_CONFIG_WINDOW=60

RATE_LIMIT_TRANSACTION=10
RATE_LIMIT_TRANSACTION_WINDOW=60

RATE_LIMIT_SCAN=5
RATE_LIMIT_SCAN_WINDOW=300

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
# Sentry error tracking
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"
SENTRY_ENVIRONMENT="production"

# Vercel Analytics
VERCEL_ANALYTICS_ID="your-analytics-id"

# Custom metrics endpoint
METRICS_ENDPOINT="https://metrics.cultiv8.finance/v1/ingest"

# ============================================================================
# EXTERNAL SERVICES (Optional)
# ============================================================================
# Email notifications (SendGrid, Postmark, etc.)
SENDGRID_API_KEY=""
NOTIFICATION_EMAIL="alerts@cultiv8.finance"

# Slack webhooks for alerts
SLACK_WEBHOOK_URL=""

# Discord webhooks
DISCORD_WEBHOOK_URL=""

# ============================================================================
# DEVELOPMENT & TESTING (set to false in production)
# ============================================================================
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_TEST_ENDPOINTS=false

# ============================================================================
# REVENUE & FEES
# ============================================================================
# Platform fee wallet (receives collected fees)
PLATFORM_FEE_WALLET="0x..."

# Fee collection settings
MANAGEMENT_FEE_COLLECTION_DAY=1
ENABLE_AUTO_FEE_COLLECTION=true

# ============================================================================
# NOTES
# ============================================================================
# 1. Generate secure random strings for JWT_SECRET and ENCRYPTION_KEY:
#    openssl rand -base64 32
#
# 2. Never commit this file with real values!
#
# 3. Set all values in Vercel dashboard under:
#    Project Settings â†’ Environment Variables
#
# 4. Test with `vercel env pull .env.local` to sync from Vercel
#
# 5. Required before deployment:
#    - DATABASE_URL
#    - UPSTASH_REDIS_REST_URL + TOKEN
#    - ETHEREUM_RPC_URL + BASE_RPC_URL
#    - ANTHROPIC_API_KEY
#    - JWT_SECRET
#
# 6. Optional but recommended:
#    - SENTRY_DSN (error tracking)
#    - SLACK_WEBHOOK_URL (alerts)
#    - FLASHBOTS_RPC_URL (MEV protection)

